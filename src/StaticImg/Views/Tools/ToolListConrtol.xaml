<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="Workloads.Creation.StaticImg.Views.Tools.ToolListConrtol"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Workloads.Creation.StaticImg.Views.Tools"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:collection="using:VirtualPaper.UIComponent.Collection"
    xmlns:cvs="using:VirtualPaper.UIComponent.Converters"
    xmlns:lcl_models="using:Workloads.Creation.StaticImg.Models"
    mc:Ignorable="d"
    DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}">

    <UserControl.Resources>
        <DataTemplate x:Key="ToolItemTemplate" x:DataType="lcl_models:ToolItem">
            <Grid>
                <FontIcon 
                    Visibility="{x:Bind Glyph, Converter={StaticResource NullToVisibilityConverter}}" 
                    Glyph="{x:Bind Glyph}" 
                    Width="20"/>
                <ImageIcon 
                    Visibility="{x:Bind ImageSourceKey, Converter={StaticResource NullToVisibilityConverter}}" 
                    Source="{x:Bind ImageSourceKey, Converter={StaticResource ThemeResourceConverter}}" 
                    Width="22" 
                    Height="22"/>
            </Grid>
        </DataTemplate>

        <Style x:Key="ToolItemStyle" BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
            <Setter Property="MinWidth" Value="0" />
            <Setter Property="Padding" Value="0" />
        </Style>
    </UserControl.Resources>

    <!--TODO: x:Bind Mode=TwoWay 无效-->
    <collection:ArcListView
        x:Name="arcListView"
        Width="40"
        Loaded="ArcListViewToolItem_Loaded"
        CancelSelectionEnable="False"
        ScrollViewer.HorizontalScrollBarVisibility="Disabled"
        ScrollViewer.VerticalScrollBarVisibility="Hidden"
        ScrollViewer.HorizontalScrollMode="Disabled"
        ScrollViewer.VerticalScrollMode="Auto"
        SelectedItem="{Binding SelectedTool, Mode=TwoWay}"
        ItemsSource="{x:Bind ToolItems, Mode=OneWay}"
        ItemTemplate="{StaticResource ToolItemTemplate}"
        ItemContainerStyle="{StaticResource ToolItemStyle}"/>
</UserControl>
